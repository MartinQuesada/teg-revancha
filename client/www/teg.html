<html>
<head>
    <meta charset="UTF-8">
    <title>TEG</title>
    <script src="lib/jquery-2.1.3.min.js"></script>
    <script src="lib/snap.svg.js"></script>
    <style type="text/css">
        #map { text-align: center; }
    </style>
</head>
<body>
    <!--
    This one is mutch more powerfull...
    I can use my orig svg!

    http://snapsvg.io/docs/
    http://svg.dabbles.info/
    needs a runing webserver but it is very simple:
    python : python -m http.server
    node.js: npm install http-server -g
    -->
    <div id="map"></div>

    <!-- Show off -->
    <script>

        var s = Snap("#map");

        var country_click_cb = function( el ) {
            var cid = el.target.attributes.id.value.split( "-" );
                cid = cid[2] + cid[1];
                // do something...
                console.log( cid );
        };

        var country_hoverover_cb = function( el ) {
            this.animate({ transform: 's1.1r0,2,2' }, 200, mina.bounce )
        };
        var country_hoverout_cb = function( el ) {
            this.animate({ transform: 's1r0,2,2' }, 200, mina.bounce )
        };

        var map = Snap.load("../themes/map_risk_orig.svg", function ( f ) {

            var countries = {};
            var gs = f.selectAll( 'path' );
            gs.forEach(function( el ) {
                var id = el.node.id;
                id = id.split('-');
                if (id[0] != 'Artwork') {
                    el.hover( country_hoverover_cb, country_hoverout_cb );
                    el.click( country_click_cb );
                }
            });

            s.append( f );
        } );

    </script>
</body>
</html>
