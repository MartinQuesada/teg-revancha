<html>
<head>
    <meta charset="UTF-8">
    <title>TEG</title>
    <script src="lib/jquery-2.1.3.min.js"></script>
    <script src="lib/snap.svg.js"></script>
    <style>
        #map { text-align: center; }
    </style>
</head>
<body>
    <!--
    This one is mutch more powerfull...

    http://snapsvg.io/docs/
    needs a runing webserver but it is very simple:
    python : python -m http.server
    node.js: npm install http-server -g
    -->
    <div id="map"></div>

    <!-- Show off -->
    <script>
        var s = Snap("#map");
        Snap.load("../themes/map_risk.svg", function (f) {

            var country_click_cb = function(el) {
                var cb_id = el.target.attributes.id.value.split("-");
                cb_id = cb_id[0]+cb_id[1]
                // do something...
                console.log(cb_id);
            }
            var countries = {}
            var gs = f.selectAll('path');
            gs.forEach(function(el) {
                var id = el.node.id
                id = id.split('-');
                if (id[0] != 'Artwork') {
                    el.mouseover(function(e) {
                        el.animate( { opacity: 0.7 }, 1, mina.elastic);
                    });
                    el.mouseout(function(e) {
                        el.animate( { opacity: 1 }, 1, mina.elastic);
                    });
                    el.click(country_click_cb);
                }
                name = id[2];
                id = id[0]+id[1];
                //console.log('id: '+id+' name: '+name );
            });

            s.append(f);
        });

    </script>

</body>
</html>
